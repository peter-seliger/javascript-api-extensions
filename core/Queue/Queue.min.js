var Queue=function(f,g){var c=this&&this.window===this&&window||this,i="This [[Queue]] implementation badly requires the presence of the [[EventTargetProvider]] singleton - aka [[EventDispatcher]] .",j="This [[Queue]] implementation badly requires the presence of the [[ListWrapperMixin]]  Mixin (/ Interface).",b=function(a){return typeof a=="function"},h=function(a){if(a)throw new ReferenceError(a);};g=function(a){var d=new a;return d&&b(d.item)&&b(d.size)&&a||null}(b(g)&&g||b(c.ListWrapperMixin)&&c.ListWrapperMixin||function(){});f=f&&b(f.register)&&b(f.unsubscribe)&&f||c.EventTargetProvider&&b(c.EventTargetProvider.register)&&b(c.EventTargetProvider.unsubscribe)&&c.EventTargetProvider||c.EventDispatcher&&b(c.EventDispatcher.register)&&b(c.EventDispatcher.unsubscribe)&&c.EventDispatcher||null;h(!f&&i);h(!g&&j);h=b=j=i=null;delete i;delete j;delete b;delete h;return function(){var a=this,d=[],k=function(e){a.dispatchEvent({target:a,type:"enqueue",elm:e})},l=function(e){a.dispatchEvent({target:a,type:"dequeue",elm:e})},m=function(){a.dispatchEvent({target:a,type:"empty"})};f.register(this);g.call(this,d);this.constructor=c.Queue||arguments.callee;this.enqueue=function(e){d.push(e);this.length=d.length;k(e)};this.dequeue=function(){var e=d.shift();d.length===0&&m();l(e);return e}}}();
