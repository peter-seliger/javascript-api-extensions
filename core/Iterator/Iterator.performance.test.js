//[Number.times]
(function(){var a=this,c=a.Number,d=c.prototype,h=a.String.prototype;d.times=function(e,i,j){return function(f,b){var k=-1,g=e(this);g=i(g)&&typeof f=="function"&&j(g)||k;for(b=b||(typeof b=="undefined"||typeof b=="object"?null:b);++k<g;)f.call(b,k,g,f)}}(c,a.isFinite,a.Math.floor);c.times=function(e){return function(i,j,f){e.call(i,j,f)}}(d.times);h.times=function(e){return function(){e.apply(this,arguments)}}(d.times);h=d=c=a=null;delete h;delete d;delete c;delete a;delete arguments.callee}).call(null);

//[Array.make]
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(1(){E e=19,h=e.H,u=h.Y,m=e.Z.Y,v=/^\\[G\\s+Z\\]$/,q=/^\\[G\\s+1d\\]$/,k=m.1f,w=1(){E c;P{m.O.6(I,"7");c=1(d){2 1(f,b){2 d.6(f,b)}}(m.O)}J(a){c=1(d){2 1(f,b){E l;P{l=d.6(f,b)}J(r){l=18}2 l}}(m.O)}2 c}(),j=9 e.R=="1"&&e.R||1(c){2 9 c=="1"},s=j(e.X)&&e.X||1(c,a){2 1(d){2 c.F(a.6(d))}}(/^\\[G\\s+11\\]$/,k);h.D=j(h.D)&&h.D||j(e.D)&&e.D||1(c,a){2 1(d){2 c.F(a.6(d))}}(/^\\[G\\s+H\\]$/,k);h.C=j(h.C)&&h.C||j(e.C)&&e.C||1(){2 1(){2 q.F(k.6(N))}()?1(c,a){2 1(d){2 c.F(a.6(d))}}(q,k):1(c,a,d,f){2 1(b){2!!b&&c.F(a.6(b))&&9 b.7=="K"&&d(b.7)&&!f(b,"7")}}(v,k,e.L,w)}();h.M=1(){E c,a,d,f=e.12,b=u.1c,l=f&&f.1b||[],r=f&&j(f.W)&&f.W("")||[];P{a=b.6(l);a=b.6(r);a=b.6(N);d=a.14("");8(a.7!=3||d!="H.M")S T();a=b.6(d);8(a.7!==10||a[5]!==".")S T();c=1(x,y,z){2 1(n){E t=(n||y(n))&&n.7;2 9 t=="K"&&z(t)&&x.6(n)||1e 0}}(b,s,e.L)}J(B){c=1(x,y,z,n,t,A){2 1(g){E p,i,o=(y(g)||z(g))&&x.6(g)||n(g)&&g.13("")||p;8(!o){i=g!==0&&g&&g.7;8(9 i=="K"&&t(i)){o=[];o.7=A(0,i);8(9 g.V=="1")Q(;i--;){p=g.V(i);8(i U g)o[i]=p}15 Q(;i--;){p=g[i];8(i U g)o[i]=p}}}2 o}}(b,h.D,h.C,s,e.L,1a.16)}a=d=f=b=l=r=I;4 a;4 d;4 f;4 b;4 l;4 r;2 c}("H",".","M");s=j=w=k=q=v=m=u=h=e=I;4 s;4 j;4 w;4 k;4 q;4 v;4 m;4 u;4 h;4 e;4 N.17}).6(I);',62,78,'|function|return||delete||call|length|if|typeof|||||||||||||||||||||||||||||isArgumentsArray|isArray|var|test|object|Array|null|catch|number|isFinite|make|arguments|propertyIsEnumerable|try|for|isFunction|throw|Error|in|item|getElementsByTagName|isString|prototype|Object||String|document|split|join|else|max|callee|true|this|Math|forms|slice|Arguments|void|toString'.split('|'),0,{}));

//[Object.keys]
(function(){var d=this,b=d.Object&&d.Object.prototype;if(b){if(typeof b.hasOwnProperty!="function")b.hasOwnProperty=function(c){return function(a){a=""+a;return this[a]!==(this.__proto__||typeof this.constructor=="function"&&this.constructor.prototype||c)[a]}}(b);if(typeof b.keys!="function")b.keys=function(c){return function(){var a,f=-1,e=[];for(a in this)c.call(this,a)&&(e[++f]=a);return e}}(b.hasOwnProperty);d.Object.keys=function(c){return function(a){return(a||typeof a!="object"&&typeof a!="undefined")&&c.call(a)||[]}}(b.keys);if(typeof b.propertyIsEnumerable!="function")b.propertyIsEnumerable=function(c){return function(a){a=""+a;for(var f=c.call(this),e=-1,h=f.length,g=false;++e<h;)if(f[e]===a){g=true;break}return g}}(b.keys)}b=d=null;delete b;delete d;delete arguments.callee}).call(null);

//Array.harmonize
(function(){var n=this&&this.window===this&&window||this,f=n.Array,j=f.prototype,t=n.Object.prototype,r=t.toString,k=typeof n.isFunction=="function"&&n.isFunction||function(h){return typeof h=="function"};f.isArray=n.isArray=k(f.isArray)&&f.isArray||k(n.isArray)&&n.isArray||function(){var h=/^\[object\s+Array\]$/,g=r;return function(d){return h.test(g.call(d))}}();f.isArgumentsArray=k(f.isArgumentsArray)&&f.isArgumentsArray||function(){var h,g=/^\[object\s+Object\]$/,d=r,a=t.propertyIsEnumerable;try{a.call(n,"length");h=function(c){return g.test(d.call(c))&&!!c&&typeof c.length=="number"&&!a.call(c,"length")}}catch(b){h=function(c){return g.test(d.call(c))&&!!c&&typeof c.length=="number"&&!function(e){var i;try{i=a.call(e,"length")}catch(m){i=true}return i}(c)}}return h}();f.make=function(){var h,g,d,a=n.document,b=n,c=a&&k(a.getElementsByTagName)&&a.getElementsByTagName("*")||[],e=j.slice,i=f.isArgumentsArray,m=f.isArray,q=k(n.isString)&&n.isString||function(){var l=/^\[object\s+String\]$/,p=r;return function(o){return l.test(p.call(o))}}();try{g=e.call(c);g=e.call(arguments);d=g.join("");if(g.length!=3||d!="Array.make")throw new Error;g=e.call(d);if(g.length!==10||g[5]!==".")throw new Error;h=function(l){var p=(l||q(l))&&l.length;return typeof p=="number"&&b.isFinite(p)&&e.call(l)||void 0};m=i=null;delete i;delete m}catch(u){h=function(l){var p,o,s=i(l)&&e.call(l)||q(l)&&l.split("")||m(l)&&e.call(l)||p;if(!s){o=l!==0&&l&&l.length;if(typeof o=="number"&&b.isFinite(o)){s=new b.Array(b.Math.max(0,o));if(typeof l.item=="function")for(;--o>=0;){p=l.item(o);if(typeof p!="undefined"||o in l)s[o]=p}else for(;--o>=0;){p=l[o];if(typeof p!="undefined"||o in l)s[o]=p}}}return s}}c=a=d=g=null;delete g;delete d;delete a;delete c;return h}("Array",".","make");j.forEach=k(j.forEach)&&j.forEach||function(){var h=f.isArray,g=f.make;return function(d,a){var b=h(this)&&this||g(this);if(b&&typeof d=="function"){a=typeof a=="undefined"||typeof a=="obj"&&!a?null:a;for(var c,e=-1,i=b.length;++e<i;){c=b[e];if(typeof c!="undefined"||e in b)d.call(a,c,e,b)}}}}();f.forEach=k(f.forEach)&&f.forEach||function(){var h=j.forEach;return function(g,d,a){h.call(g,d,a)}}();j.every=k(j.every)&&j.every||function(){var h=f.isArray,g=f.make;return function(d,a){var b,c=h(this)&&this||g(this);if(c&&typeof d=="function"){var e,i=-1,m=c.length,q=false;if(m>=1){a=typeof a=="undefined"||typeof a=="obj"&&!a?null:a;for(b=true;b&&++i<m;){e=c[i];if(typeof e!="undefined"||i in c){q=true;b=d.call(a,e,i,c)}}b=q&&b}}return!!b}}();f.every=k(f.every)&&f.every||function(){var h=j.every;return function(g,d,a){return h.call(g,d,a)}}();j.some=k(j.some)&&j.some||function(){var h=f.isArray,g=f.make;return function(d,a){var b,c=h(this)&&this||g(this);if(c&&typeof d=="function"){var e,i=-1,m=c.length,q=false;if(m>=1){a=typeof a=="undefined"||typeof a=="obj"&&!a?null:a;for(b=false;!b&&++i<m;){e=c[i];if(typeof e!="undefined"||i in c){q=true;b=d.call(a,e,i,c)}}b=q&&b}}return!!b}}();f.some=k(f.some)&&f.some||function(){var h=j.some;return function(g,d,a){return h.call(g,d,a)}}();j.map=k(j.map)&&j.map||function(){var h=f.isArray,g=f.make;return function(d,a){var b=[],c=h(this)&&this||g(this);if(c&&typeof d=="function"){a=typeof a=="undefined"||typeof a=="obj"&&!a?null:a;for(var e,i=-1,m=c.length;++i<m;){e=c[i];b[i]=typeof e!="undefined"||i in c?d.call(a,e,i,c):e}}return b}}();f.map=k(f.map)&&f.map||function(){var h=j.map;return function(g,d,a){return h.call(g,d,a)}}();j.filter=k(j.filter)&&j.filter||function(){var h=f.isArray,g=f.make;return function(d,a){var b=[],c=h(this)&&this||g(this);if(c&&typeof d=="function"){a=typeof a=="undefined"||typeof a=="obj"&&!a?null:a;for(var e,i=-1,m=c.length;++i<m;){e=c[i];if(typeof e!="undefined"||i in c)d.call(a,e,i,c)&&b.push(e)}}return b}}();f.filter=k(f.filter)&&f.filter||function(){var h=j.filter;return function(g,d,a){return h.call(g,d,a)}}();j.reduce=k(j.reduce)&&j.reduce||function(){var h=f.isArray,g=f.make;return function(d,a){var b=h(this)&&this||g(this);if(b&&typeof d=="function"){var c,e=0,i=b.length;c=typeof a!="undefined";if(i!==0||c){if(!c){do{c=b[e];if(typeof c!="undefined"||e in b){a=c;++e;break}if(++e>=i)break}while(1)}for(;e<i;){c=b[e];if(typeof c!="undefined"||e in b)a=d(a,c,e,b);++e}}else a=void 0}else a=void 0;return a}}();f.reduce=k(f.reduce)&&f.reduce||function(){var h=j.reduce;return function(g,d,a){return h.call(g,d,a)}}();j.reduceRight=k(j.reduceRight)&&j.reduceRight||function(){var h=f.isArray,g=f.make;return function(d,a){var b=h(this)&&this||g(this);if(b&&typeof d=="function"){var c;c=b.length;var e=c-1,i=typeof a!="undefined";if(c!==0||i){if(!i){do{c=b[e];if(typeof c!="undefined"||e in b){a=c;--e;break}if(--e<0)break}while(1)}for(;e>=0;){c=b[e];if(typeof c!="undefined"||e in b)a=d(a,c,e,b);--e}}else a=void 0}else a=void 0;return a}}();f.reduceRight=k(f.reduceRight)&&f.reduceRight||function(){var h=j.reduceRight;return function(g,d,a){return h.call(g,d,a)}}();j.indexOf=k(j.indexOf)&&j.indexOf||function(){var h=f.isArray,g=f.make,d=n;return function(a,b){var c,e,i,m=h(this)&&this||g(this);if(m){c=m.length;b=d.parseInt(d.Number(b),10);b=d.isFinite(b)&&b||0;for(b=b<0&&d.Math.max(0,c+b)||b;b<c;){e=m[b];if((typeof e!="undefined"||b in m)&&e===a){i=true;break}++b}}return i?b:-1}}();f.indexOf=k(f.indexOf)&&f.indexOf||function(){var h=j.indexOf;return function(g,d,a){return h.call(g,d,a)}}();j.lastIndexOf=k(j.lastIndexOf)&&j.lastIndexOf||function(){var h=f.isArray,g=f.make,d=n;return function(a,b){var c,e,i=h(this)&&this||g(this);if(i){c=i.length;b=d.parseInt(d.Number(b),10);b=d.isFinite(b)&&b||c;b=b<0&&d.Math.max(0,c+b)||b;for(b=b>=c&&c-1||b;b>-1;){c=i[b];if((typeof c!="undefined"||b in i)&&c===a){e=true;break}--b}}return e?b:-1}}();f.lastIndexOf=k(f.lastIndexOf)&&f.lastIndexOf||function(){var h=j.lastIndexOf;return function(g,d,a){return h.call(g,d,a)}}();k=r=t=j=f=n=null;delete n;delete f;delete j;delete t;delete r;delete k})();

//Array.generics
//(function(k){if(!k.Object||typeof k.Object.keys!="function")throw new ReferenceError("Some [[Iterator]] implementations require the presence of the [[Object]] extensions module [Object.keys].");if(!k.Array||typeof k.Array.make!="function")throw new ReferenceError("Some [[Iterator]] implementations require the presence of the [[Array]] extensions module base [Array.make.detect].");k.Iterator=function(i){var n=i.Object.keys,o=i.Array.make;regXClassName=/^\[object\s+(.*)\]$/;exposeImplementation=i.Object.prototype.toString;isString=function(){var a=/^\[object\s+String\]$/,c=exposeImplementation;return function(e){return a.test(c.call(e))}}();isKindOfList=function(a){return a&&typeof a.length=="number"&&isFinite(a.length)};hasItemMethod=function(a){return a&&a.item&&(typeof a.item=="function"||typeof a.item=="object")};createGetListItemFallbackByCurrentType=function(a){return isString(a)&&function(c,e){return c.charAt(e)}||hasItemMethod(a)&&function(c,e){return c.item(e)}||function(c,e,f){return f}};EndOfIteration=function(){var a={};a.constructor.toString=function(){return"[object EoI]"};a.toString=function(){return"EoI"};a.valueOf=function(){return null};return a}();isEndOfIteration=function(a){return function(c){return c===a}}(EndOfIteration);return{EntryIteratorMixin:function(a,c,e,f){return function(){if(a(this)){var b=-1,g=this,j=c(g);this.hasPrevious=function(){return b>0};this.hasNext=function(){return b<g.length-1};this.getPrevious=function(){var d;if(b>0){d=g[--b];d=typeof d!="undefined"||!(b in g)?d:j(g,b)}else{b=-1;d=e}return d};this.getNext=function(){var d;if(b<g.length-1){d=g[++b];d=typeof d!="undefined"||!(b in g)?d:j(g,b)}else{b=g.length;d=e}return d};this.getIndex=function(){return b<g.length&&b>-1?b:e};this.setIndex=function(d){d=~~(1*d);b=d<=-1&&-1||d>=g.length&&g.length||d};this.isEoI=f}return this}}(isKindOfList,createGetListItemFallbackByCurrentType,EndOfIteration,isEndOfIteration),EntryIterator:function(a,c,e){return function(f){if(a(f)){var b,g=e.Iterator.EntryIteratorMixin;this.compile=function(j){b=g.call(c(j));this.hasPrevious=b.hasPrevious;this.hasNext=b.hasNext;this.getPrevious=b.getPrevious;this.getNext=b.getNext;this.getIndex=b.getIndex;this.setIndex=b.setIndex;this.isEoI=b.isEoI;this.size=function(){return b.length};return this};return this.compile(f)}}}(isKindOfList,o,i),PropertyIterator:function(a,c){return function(e){var f,b=c.Iterator.EntryIteratorMixin,g,j,d,l;this.compile=function(m){f=b.call(a(m));g=f.getPrevious;j=f.getNext;d=f.getIndex;l=f.isEoI;this.hasPrevious=f.hasPrevious;this.hasNext=f.hasNext;this.getPrevious=function(){var h=g();return!l(h)?m[h]:h};this.getNext=function(){var h=j();return!l(h)?m[h]:h};this.getKey=function(){var h=d();return!l(h)?f[h]:h};this.isEoI=l;this.size=function(){return f.length};return this};return this.compile(e)}}(n,i),mixin:function(a,c){if(c&&(typeof c=="object"||typeof c=="function")){var e=i.Iterator;if(isString(a)&&typeof e[a+"Mixin"]=="function")e[a+"Mixin"].call(c);else typeof a=="function"&&a.call(c)}return c},create:function(a,c){var e,f=i.Iterator;if(c&&(typeof c=="object"||typeof c=="function"))if(isString(a)&&typeof f[a]=="function")e=new f[a](c);else if(typeof a=="function")e=new a(c);return e}}}(k);delete arguments.callee})(this&&this.window===this&&window||this);

//[Iterator]
(function(l){var i=this;if(!i.Object||typeof i.Object.keys!="function")throw new ReferenceError("Some [[Iterator]] implementations require the presence of the [[Object]] extensions module [Object.keys].");if(!i.Array||typeof i.Array.make!="function")throw new ReferenceError("Some [[Iterator]] implementations require the presence of the [[Array]] extensions module base [Array.make.detect].");(l||i).Iterator=function(m,n){var o=function(a,c){return function(e){return a.test(c.call(e))}}(/^\[object\s+String\]$/,n.Object.prototype.toString),q=function(a){return a&&typeof a.length=="number"&&isFinite(a.length)},r=function(){var a={};a.constructor.toString=function(){return"[object EoI]"};a.toString=function(){return"EoI"};a.valueOf=function(){return null};return a}(),s=function(a){return function(c){return c===a}}(r);return{EntryIteratorMixin:function(a,c,e,f){return function(){if(a(this)){var b=-1,g=this,j=c(g);this.hasPrevious=function(){return b>0};this.hasNext=function(){return b<g.length-1};this.getPrevious=function(){var d;if(b>0){d=g[--b];d=typeof d!="undefined"||!(b in g)?d:j(g,b)}else{b=-1;d=e}return d};this.getNext=function(){var d;if(b<g.length-1){d=g[++b];d=typeof d!="undefined"||!(b in g)?d:j(g,b)}else{b=g.length;d=e}return d};this.getIndex=function(){return b<g.length&&b>-1?b:e};this.setIndex=function(d){d=~~(1*d);b=d<=-1&&-1||d>=g.length&&g.length||d};this.isEoI=f}return this}}(q,function(a){return o(a)&&function(c,e){return c.charAt(e)}||a&&a.item&&(typeof a.item=="function"||typeof a.item=="object")&&function(c,e){return c.item(e)}||function(c,e,f){return f}},r,s),EntryIterator:function(a,c,e){return function(f){if(a(f)){var b,g=e.Iterator.EntryIteratorMixin;this.compile=function(j){b=g.call(c(j));this.hasPrevious=b.hasPrevious;this.hasNext=b.hasNext;this.getPrevious=b.getPrevious;this.getNext=b.getNext;this.getIndex=b.getIndex;this.setIndex=b.setIndex;this.isEoI=b.isEoI;this.size=function(){return b.length};return this};return this.compile(f)}}}(q,n.Array.make,m),PropertyIterator:function(a,c){return function(e){var f,b=c.Iterator.EntryIteratorMixin,g,j,d,k;this.compile=function(p){f=b.call(a(p));g=f.getPrevious;j=f.getNext;d=f.getIndex;k=f.isEoI;this.hasPrevious=f.hasPrevious;this.hasNext=f.hasNext;this.getPrevious=function(){var h=g();return!k(h)?p[h]:h};this.getNext=function(){var h=j();return!k(h)?p[h]:h};this.getKey=function(){var h=d();return!k(h)?f[h]:h};this.isEoI=k;this.size=function(){return f.length};return this};return this.compile(e)}}(n.Object.keys,m),mixin:function(a,c){if(c&&(typeof c=="object"||typeof c=="function")){var e=m.Iterator;if(o(a)&&typeof e[a+"Mixin"]=="function")e[a+"Mixin"].call(c);else typeof a=="function"&&a.call(c)}return c},create:function(a,c){var e,f=m.Iterator;if(c&&(typeof c=="object"||typeof c=="function"))if(o(a)&&typeof f[a]=="function")e=new f[a](c);else if(typeof a=="function")e=new a(c);return e}}}(l||i,i);i=l=null;delete i;delete l;delete arguments.callee}).call(null);



var list, testIter, emptyFct, time, cycles = 10000;

testIter = (function (iter) {
  while (iter.hasNext()) {
    iter.getNext();
  }
  iter.setIndex(-1);
});
emptyFct = (function () {});


list = ("Some [[Iterator]] implementations require the presence of the [[Object]] extensions module [Object.keys].").split("");

Iterator.EntryIteratorMixin.call(list);

time = (new Date);
cycles.times(function(){testIter(list);});
time = ((new Date) - time);

print(cycles + " times iterating test list by \"EntryIteratorMixin\" takes : " + time + " msec.");


list = ("Some [[Iterator]] implementations require the presence of the [[Object]] extensions module [Object.keys].").split("");

list = new Iterator.EntryIterator(list);

time = (new Date);
cycles.times(function(){testIter(list);});
time = ((new Date) - time);

print(cycles + " times iterating test list by wrapping \"EntryIterator\" takes : " + time + " msec.");


list = ("Some [[Iterator]] implementations require the presence of the [[Object]] extensions module [Object.keys].").split("");

time = (new Date);
cycles.times(function(){list.forEach(emptyFct);});
time = ((new Date) - time);

print(cycles + " times iterating test list by prototypal  \"Array.forEach\" takes : " + time + " msec.");

time = (new Date);
cycles.times(function(){Array.forEach(list, emptyFct);});
time = ((new Date) - time);

print(cycles + " times iterating test list by generic static \"Array.forEach\" takes : " + time + " msec.");
